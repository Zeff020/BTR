\documentclass[]{article}

\usepackage{tikzit}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{hyperref}
\usepackage{physics}
\usepackage{geometry}
\newcommand{\equaltext}[1]{\ensuremath{\stackrel{\text{#1}}{=}}}


\input{computation.tikzdefs}
\input{computation.tikzstyles}


%opening
\title{}
\author{}

\begin{document}

\maketitle

\begin{abstract}

\end{abstract}

Ask Boris onecolumn or two column (One column better for explanation on every step, twocolumn better for large equations at once)

\section{Introduction}

Here I will put the proposal with some adjustments to make it fit in the context of this document.

\section{Preliminaries}

This section serves as a concise introduction to the diagrammatic method for a reader who is familiar with quantum mechanics and Dirac notation. Appendix \ref{Keywords} contains all of the concepts discussed in this section as keywords with hyperrefs.

\subsection{From Dirac to Diagrams}

\subsection{States, Effects, and Hermitian Operations}

\label{braandket}
The \textbf{ket} is defined as a triangle with its sharp edge down in diagrammatic notation. It can be interpreted as the preparation of a state, in this case $\psi$. It is referred to as \textbf{state} throughout the thesis.

\begin{equation}
\ket{\psi} =  \tikzfig{state}
\end{equation}

The \textbf{bra} in diagrammatic notation is the flipped state, and is referred to as \textbf{effect}. 

\begin{equation}
\bra{\psi} =  \tikzfig{effect}
\end{equation}

Triangles are the smallest building blocks in the diagrammatic notation. Most diagrams can be reduced to just triangles. This makes them a powerful tool for translating complicated diagrams to Dirac notation and vice versa.

From the fact that the \textbf{Hermitian adjoint} of a bra gives a ket and reversedly it follows that the operation of flipping a diagram around its horizontal axis corresponds to taking the Hermitian adjoint. Flipping a diagram around its vertical axis is also a legal operation and this corresponds to taking the \textbf{Hermitian conjugate}. Both of these operation applied together takes the \textbf{transpose}. All of these diagram operations can be summarized as follows:

\begin{equation}
\tikzfig{operationssummary}
\end{equation}

Note that there are also triangles that are not on their side. These are representations of objects that are not affected by conjugate transformations, such as integers.
\subsection{Wires}
\label{identity}
The identity map in the diagrammatic notation is given by the following diagram, referred to as a \textbf{wire}.

\begin{equation}
\tikzfig{wire}
\end{equation}

A wire can be reduced to triangles (and subsequently to a ket and a bra) as follows: 

\begin{equation}
\tikzfig{wire} = \tikzfig{wiretriangles} = \sum_{i}\ket{i}\bra{i}
\end{equation}

Every wire has an associated \textbf{system type}, the space of the information that it carries. In the context of this report, the system types are Hilbert spaces or the tensor product of Hilbert Spaces. 

\subsection{Maps}
\label{maps}

A \textbf{linear map} is given by the following diagram:

\begin{equation}
\tikzfig{map}
\end{equation}

We can find the equivalent form in Dirac notation as follows:

\begin{equation}
\tikzfig{map} = \tikzfig{mapdecomposition} = \sum_{ij}r_{ij}\ket{i}\bra{j}
\end{equation}

In the context of a bra and a ket, we can translate the diagrammatic linear map to Dirac notation as such:

\begin{equation}
\tikzfig{mapincontext} = \bra{\psi}f\ket{\psi}
\end{equation}

\subsection{Spiders}
\label{spiders}

A \textbf{spider} is a special map which functions as a Kronecker delta. It forces the inputs to be the same as the outputs. In the case where we have one input and output this gives a trivial result:

\begin{equation}
\tikzfig{spider} = \tikzfig{wiretriangles} = \tikzfig{wire}
\end{equation}

In the case where there are multiple outputs and inputs it forces all to be the same:

\begin{equation}
\tikzfig{spidermultileg} = \tikzfig{spidermultilegdecomposed}
\end{equation}

By applying arbitrary in- and outputs we can see how the \textbf{Kronecker delta} arises from Dirac notation. The following example is for two two inputs and two outputs but the same principle extends to an arbitrary amount of in- and outputs.

\begin{equation}
\begin{split}
\tikzfig{spidermultileginandoutputs} = \tikzfig{spidermultilegdecomposedinandoutputs} = \\ \sum_{i} \bra{i}\ket{j}\bra{i}\ket{k}\bra{l}\ket{i}\bra{m}\ket{i} = \delta_{jk} \delta_{lm}  \delta_{jl}
\end{split}
\end{equation}

Spiders with single in- or outputs also exist. A spider with a single output is the creation of a random variable and a spider with a single input is the deletion of any variable.

\subsection{Colours and Bases}
\label{coloursandbases}

In the diagrammatic notation, the \textbf{colour} of an object such as a spider or a triangle determines its basis. In the context of this paper it is sufficient to define two orthonormal \textbf{bases}, the Z and X bases. The Z basis has white diagrammatic elements, for the X basis they are gray. The following is an example of how to translate between bases in this notation:

\begin{equation}
\tikzfig{gray0} =\frac{1}{\sqrt(2)}( \tikzfig{white0} + \tikzfig{white1})
\end{equation}

This equation is of course entirely analogous to its Dirac notation counterpart, with $\ket{-}$ and $\ket{+}$ being the orthonormal basis states in the X basis and $\ket{0}$ and $\ket{1}$ the orthonormal basis states in the Z basis:

\begin{equation}
\ket{-} = \frac{1}{\sqrt{2}}(\ket{0} + \ket{1})
\end{equation}

\subsection{Doubling}
\label{doubling}

\textbf{Doubling} is the operation of taking the \textbf{tensor product} of a diagram with itself. In the usual case, where the system type of a single wire is a Hilbert space ($\mathcal{H}$), the doubled wire has the set of density matrices on that Hilbert space as system type.:

\begin{equation}
\mathcal{H} \oplus \mathcal{H} = \mathcal{D}(\mathcal{H})
\end{equation}
\textit{Where $\mathcal{D}(\mathcal{H})$ is the set of density matrices on $\mathcal{H}$. $\oplus$ is the tensor product.}

Doubled maps and and states represent \textbf{pure} maps and states. Single maps and states represent their \textbf{mixed} counterparts. The most intuitive interpretation, and how it is mostly used in this report, is that the single wires represent classical data and thick wires represent data encoded into a quantum state.

Doubling in diagrammatic notation is nothing more than placing a second conjugate diagram next to the original diagram. In doubled diagrams lines are drawn thick, for example:

\begin{equation}
\tikzfig{conjugatemaps} = \tikzfig{doublemap}
\end{equation}
\textit{The notation of a map with a hat, such as $\hat{f}$, means that that map is pure.}


\subsection{Discarding}
\label{discarding}

\textbf{Discarding} is the process of removing part of a diagram from the whole, or removing the whole diagram altogether. For doubled diagrams it is defined as follows:

\begin{equation}
\label{discarding}
\tikzfig{Discarding} = \tikzfig{thickwhiteieffect} = \tikzfig{thinwirediscardingdecomposed} = \tikzfig{discardingsinglewires} = tikzfig
\end{equation}

It is trivial to see that applying discarding to any arbitrary (normalized) state always results in the number 1. In fact, discarding a state or map is equivalent to taking its \textbf{trace}. As an example, we discard an arbitrary normalized \textbf{density matrix}, $\rho$:

\begin{equation}
\begin{split}
\tikzfig{discardingdensitymatrx} = \tikzfig{discradingdensitymatrixsinglewires} = \sum\limits_{ij} \rho_{ij} \bra{j}\ket{i} \\ = \sum\limits_{ii} \rho_{ii} = Tr(\rho) = 1
\end{split}
\end{equation}

Discarding is not a pure map. It connects the two counterparts of a doubled state by a single wire. This allows discarding to be used to purify any arbitrary state or map. For the case of a map $\Phi$, \textbf{purification} is as follows:

\begin{equation}
\tikzfig{doublemapnotpure} = \tikzfig{doublemapdiscardingoneout} = \tikzfig{conjugatemapsdiscardingoneout}
\end{equation}



\subsection{Phase Spiders}
\label{phasespiders}

\textbf{Phase spiders} follow the same rules as normal spiders. However, perhaps unsurprisingly, they carry a \textbf{phase}. This phase is subject to a new set of rules which is evident from the definition of the phase spider. 

\begin{equation}
\label{phasespider}
\tikzfig{phasespider} = \tikzfig{wiretriangle}~e^{i\alpha_i} = \sum\limits_i e^{i\alpha_i} \bra{i}
\end{equation}

An example of the principle that underlies these rules is given below, which shows how the phase gets eliminated in the process of \textbf{decoding} a quantum state to classical information.


\begin{equation}
\label{eq:20}
\tikzfig{decodingphase} = \tikzfig{spidertwophases} = \tikzfig{spidertwophaseswrittenout} = \tikzfig{spideronephasefromtwo} = \tikzfig{spideronephasefromtwoinspider} =
\tikzfig{uniformprobstate}
\end{equation}

Equation \eqref{eq:20} exemplifies how phases behave when spiders fuse, they add. Furthermore, it shows how the phase gets eliminated when one tries to extract classical information, also known as measure, a quantum state.

\subsection{Entanglement}
\label{entanglement}
Pure entangled states are those states that are not horizontally separable: 

\begin{equation}
\tikzfig{WideStateTwoOutputs} \neq \tikzfig{TwoStates}
\end{equation}

Since horizontally composed states is the \hyperref[doubling]{tensor product} of those states diagrammatically, this definition is in line with theory, where entangled states are defined as those states that can not be written as the tensor product of two states \cite{nielsen2011}. 

An example of such a state is the following:

\begin{equation}
\tikzfig{DoubleCup} = \sum\limits_{i} \tikzfig{DoubleCupSeperate} = \ket{00} + \ket{11}
\end{equation}

Which is up to a number the first Bell matrix, $B_0$. Although it may seem like this state separates since it is made up of two triangles, it does not. Both triangles are correlated through the same index. Indeed, if the indices were different for each of the triangles this would not be an entangled state.

\section{Protocols}


\subsection{One Time Pad}

The classical One Time Pad (OTP) is perhaps the oldest and most well known quantum cryptographic method. We will first discuss this protocol as a setup to the quantum version. Although originally proposed in 1884 \cite{Markoff2011}, the OTP was first formalized and proven secure in 1949 \cite{Shannon1949}. Since then, the scheme has essentially remained the same due to its simplicity. A typical OTP goes as follows:

Alice and Bob start with a uniformly random key $k \in \{0,1\}^n$. Alice wants to send some message $m \in \{0,1\}^n$ to Bob. She encrypts $m$ using the key $k$ by means of an xor gate, generating payload $x^n = m \oplus k$.\footnote{In different realizations of the OTP, Alice has different methods of encrypting her message. With that being said, applying an xor to the key and the message is one of the most common versions.} After this step, she sends $x$ to Bob who applies $k$ again to $x$ to receive $m$ since $k \oplus x = m^n$. The assumption on Eve in this scheme is that she doesn't know $k$ and can intercept $x$. However, if $k$ was truly uniformly random, $x$ is so too, leaving Eve with a random variable even after a successful interception. The main drawback of this scheme is the fact that the key has to be the same size as the message and that this key can only safely be used once.

\subsection{Quantum One Time Pad}

In the Quantum One Time Pad (QOTP) Alice and Bob again both share a uniformly random key $ \alpha \in \{0,1,2,3\}^n$ and want to communicate some quantum state, $\rho$. Alice first transforms $\rho$ with a random Pauli map, $\sigma_\alpha$. After she has prepared this state she sends it to Bob over a quantum channel. He can then apply the Hermitian adjoint of this random Pauli resulting in the original $\rho$ sent by Alice. This step exploits the unitary property of the Pauli maps. Eve, who doesn't know $\alpha$, can measure the state sent from Alice to Bob. However, from her perspective, this is the fully mixed state. Mathematically, this can be seen as follows:

\begin{equation}
	\label{equation:OTPsecurity}
	\rho' = \sum\limits_0^3 \frac{1}{4} \sigma_\alpha \rho \sigma_\alpha^\dagger = \frac{1}{2}\mathbb{I}
\end{equation}

In principle, the QOTP is similar to the OTP. By means of encrypting a piece of information with a random key which is unknown to Eve but shared by Alice and Bob the latter can achieve secure communication. As a communication protocol, QOTP is not very efficient. Alice and Bob need use two bits as a key per bit of communicated information. However, as a scheme for the encryption of qubits it is actually applicable to various protocols as it allows for the eight-state encoding of qubits \cite{DeVries2016}. *See if need some more information here* ***Ask question about combining dense coding with QOTP***

\subsubsection{Diagrammatic Implementation}

In the diagrammatic formalism we can construct a set of maps that have the same property as the Pauli maps in equation \ref{equation:OTPsecurity}, the Bell maps. These are defined in terms of the Pauli matrices as follows \cite{Coecke2017}:

\begin{equation}
	\sigma_0 = B_0 ~~~ \sigma_1 = B_1 ~~~ \sigma_2 = iB_3 ~~~ \sigma_3 = B_2 
\end{equation}

In order to form diagrams for these Bell maps we have to understand them a little bit better. One of their properties is that they can be constructed from rotations on the Bloch sphere around the z and x axes \cite{DJORDJEVIC2012227}, also known as bitflips around these axes. For random $u, w \in \{0,1\}^n$ and $\alpha \in \{0,1,2,3\}^n$ we can write this mathematically as follows:

\begin{equation}
\label{randombell}
	Z^uX^w = B_\alpha
\end{equation}
\textit{Where $Z^u$ and $X^w$ denote the maps that do a bitflip in the z and x bases respectively.}

Let's see if we can construct these smaller constituents, $Z^u$ and $X^w$, diagrammatically. Starting with $X^w$, remember that a bitflip in the x basis corresponds to a rotation around the z axis on the Bloch sphere. Therefore we need to find a diagrammatic map that either rotates the Bloch sphere around its z axis by $\pi$ radians ($X^1$) or not ($X^0$). Since a single spider without a phase is the identity \ref{spiders} and the z basis is represented by the color white diagrammatically, we can use the white phaseless spider for the case where we don't flip the bit or rotate around the z axis. Let's send the 0 state through in the gray (x) basis to test if this map behaves as expected:

\begin{equation}
	\label{equation:nobitflip}
	\tikzfig{NoBitFlipOnGray0(1)} \equaltext{\ref{coloursbases}} \frac{1}{2}\tikzfig{NoBitFlipOnGray0(2)} +  \frac{1}{2}\tikzfig{NoBitFlipOnGray0(3)} 
	\equaltext{\ref{spiders}}
	\frac{1}{2}
	\tikzfig{NoBitFlipOnGray0(4)} 
	\equaltext{\ref{phasespiders}}
	\frac{1}{2}
	\tikzfig{NoBitFlipOnGray0(5)} 
	\equaltext{\ref{coloursbases}}
	\tikzfig{NoBitFlipOnGray0(6)}
\end{equation}

This map does seem to behave appropriately. We see that whenever we send a gray 0 through, we get a gray 0 as output. Following similar logic, we could also use the white spider with a $\pi$ phase to make a rotation around the z axis, and thus a bitflip in the x basis. Let's test if this works too:

\begin{equation}
\label{equation:bitflip}
\tikzfig{BitFlipOnGray0(1)} \equaltext{\ref{coloursandbases}} \frac{1}{2}\tikzfig{BitFlipOnGray0(2)} + \frac{1}{2}\tikzfig{BitFlipOnGray0(3)} 
\equaltext{\ref{spiders}}
\frac{1}{2}
\tikzfig{BitFlipOnGray0(4)} 
\equaltext{\ref{phasespiders}}
\frac{1}{2}
\tikzfig{BitFlipOnGray0(5)} 
\equaltext{\ref{coloursandbases}}
\tikzfig{BitFlipOnGray0(6)}
\end{equation}

These maps do exhibit the correct properties. Indeed, whenever we send a gray 1 through we also get the expected results. It seems that we have formed the $X^0$ and $X^1$ maps. While we will not go through the full math here, the $Z^0$ and $Z^1$ maps follow very similar logic and also behave as expected. Perhaps unsurprisingly, the former is a gray phaseless spider whereas the latter is a gray spider with a phase $\pi$.


Now that we have created our four constituent maps we are in principle ready to make any Bell map of choice. However, we do not want to make a choice, we want to select a random Bell matrix. We still need to find a diagrammatic method to generate a random $u$ and $w$ on which our choice of Bell matrices depend. Recall that generating a random bit is the following diagram \ref{spiders}: 

\begin{equation}
	\tikzfig{spideroneoutput} = \tikzfig{wiretriangle}
\end{equation}

We could encode this random classical bit into a qubit as follows:

\begin{equation}
	\label{eq:7}
	\tikzfig{encodingrandombit} = \sum\limits_{i} \tikzfig{encodingrandombit2} = \sum\limits_{i} \tikzfig{IMID}
\end{equation}

The previous two equations are entirely analogous for the gray (x) basis.\footnote{In fact, we can make an even stronger statement about the diagrams in equation \ref{eq:7}: They are actually equal to the analogous diagrams in the gray basis. Note that the rightmost diagram is the adjoint of discarding, which can be interpreted as preparing the fully mixed state, up to a number. Since this state is independent of the basis, these diagrams of white basis are equal to the analogous diagrams in the gray basis.}

We now have the necessary ingredients to make a map that applies a random bitflip or not in x and another map that makes a random bitflip or not in z. The results are as follows:

\begin{equation}
	X^w ~~  \Leftrightarrow ~~ \tikzfig{RandomXBitFlip} ~~~~~~~~~~~~~~~~~~~~~~~~ Z^u ~~ \Leftrightarrow ~~ \tikzfig{RandomZBitFlip}
\end{equation}

Let's confirm that the diagrammatic version of $X^w$ does indeed behave as expected:

\begin{equation}
	\label{equation:RandomXBitFlipProof}
	\tikzfig{RandomXBitFlip} =
	\tikzfig{RandomXBitFlipProof(1)} +
	\tikzfig{RandomXBitFlipProof(2)} =
	\tikzfig{RandomXBitFlipProof(3)} +
	\tikzfig{RandomXBitFlipProof(4)} =
	\tikzfig{RandomXBitFlipProof(5)} +
	\tikzfig{RandomXBitFlipProof(6)} =
	\tikzfig{RandomXBitFlipProof(7)} +
	\tikzfig{RandomXBitFlipProof(8)} 
\end{equation}

So depending on whether the random bit was a 0 or a 1, we get the map from equation \ref{equation:nobitflip} ($X^0$) or the map from equation \ref{equation:bitflip} ($X^1$). Again, this derivation is analogous for the map $Z^u$. We have thus successfully made the constituents to our Bell matrices. The random Bell map itself is then as follows:

\begin{equation}
	\label{equation:BellMap}
	B_\alpha = Z^uX^w \Leftrightarrow \tikzfig{BellMap}
\end{equation}

To make a diagrammatic version of QOTP without Eve we need to compose the Hermitian adjoint of this Bell map to its input. The bottom Bell map can then be seen as Alice encrypting her state and the top Bell map can be seen as Bob decrypting this state. We also need to make sure that Alice and Bob make the same choice in $\alpha$ and thus use the same Bell map. This can be done by connecting the outputs of the spiders that generate the random numbers to the Bell maps of both Alice and Bob. In all, this makes QOTP without Eve to be the following diagram:

\begin{equation}
	\tikzfig{QOTPNoEve}
	\label{equation:QOTPNoEve}
\end{equation}

For this protocol to be a good candidate for communication we need equation \ref{equation:QOTPNoEve} to reduce to the following: 

\begin{equation}
	\tikzfig{QOTPNoEveFinal}
\end{equation}

This simply states that Alice's qubit is sent to Bob through the identity map. We already know that this is true due to the unitarity of the Bell maps. Diagrammatically, the proof is as follows:

\begin{equation}
	\begin{split}
	\tikzfig{QOTPNoEve} = 
	\tikzfig{QOTPNoEveProof(1)} = 
	\tikzfig{QOTPNoEveProof(2)} = 
	\tikzfig{QOTPNoEveProof(3)} = \\
	\tikzfig{QOTPNoEveProof(4)} =
	\tikzfig{QOTPNoEveProof(5)} =
	\tikzfig{QOTPNoEveProof(6)} =
	\tikzfig{QOTPNoEveProof(7)} =
	\tikzfig{QOTPNoEveFinal}
	\end{split}
\end{equation}

Now that we have diagrammatically shown that QOTP without Eve is indeed a communication protocol, we can start to introduce Eve. First of all, let's see what the result is of Alice encrypting her state by means of a Bell map. We will thus analyze QOTP purely as an encryption protocol. To understand what happens in this case diagrammatically we need to first extend equation \ref{eq:7}. Note that RHS of this equation is actually the Hermitian adjoint of discarding as it is defined in \ref{discarding}, which is in turn the fully mixed state. Since this state is independent of the choice of basis we can construct the following equation:

\begin{equation}
	\tikzfig{encodingrandombit} = \tikzfig{FullyMixed} = \tikzfig{encodingrandombitgray}
	\label{equation:RandomStateFullyMixed}
\end{equation}

Using equation \ref{equation:RandomStateFullyMixed} we can prove that whenever Alice encrypts a state with a Bell map and discards her classical $u$ and $w$ she prepares the fully mixed state:

\begin{equation}
	\label{equation:AliceWithBell}
	\tikzfig{AliceWithBell} = \tikzfig{AliceWithBell(1)} = \tikzfig{AliceWithBell(2)} = \tikzfig{AliceWithBell(3)} = \tikzfig{AliceWithBell(4)} =\tikzfig{AliceWithBell(5)}
\end{equation}

This might give some intuition for what Eve would receive after Alice has encrypted her state. However, one major difference between QOTP as an encryption protocol and QOTP as a communication protocol that in the latter case Alice can not discard her classical $u$ and $w$. Somehow she has to communicate them with Bob. The diagram of QOTP as a communication protocol and Eve with the ability to intercept the quantum state but not $u$ or $w$ is as follows:

\begin{equation}
	\tikzfig{QOTPEve}
\end{equation}
\textit{Where Eve controls the map $\Phi$ and receives the rightmost output of this map.}

Let's see what happens when we look at this situation from Eve's perspective and thus trace out (discard) Bob's channel.

\begin{equation}
	\label{equation:QOTPEveEvePerspective}
	\tikzfig{QOTPEveEvePerspective(1)} =
	\tikzfig{QOTPEveEvePerspective(2)} =
	\tikzfig{QOTPEveEvePerspective(3)} =
	\tikzfig{QOTPEveEvePerspective(4)} =
	\tikzfig{QOTPEveEvePerspective(5)}
\end{equation}

The third diagram in equation \ref{equation:QOTPEveEvePerspective} is up until Eve's map $\Phi$ the same as equation \ref{equation:AliceWithBell}. We therefore see that from Eve's perspective Alice gives her the fully mixed state due to the Bell map that she applies to her original state. So even as a communication protocol, the Bell map is responsible for encrypting the state such that Eve can extract no information from it. 

Finally, we can check that whenever we trace out (discard) the state of Eve, Alice and Bob can communicate.

\subsection{Quantum Teleportation}

In quantum teleportation, Alice and Bob want to communicate a qubit, $\rho_1$, using the fact that they share an EPR pair, $\rho_{23}$, and a classical communication channel. Note that the subscripts in this paragraph help keep track of the different particles present. Subscript 1 refers to Alice's particle, 2 to her side of the EPR pair and 3 to Bob's side of the EPR pair. Alice measures $\rho_1$ together with $\rho_{2}$ in a Bell measurement, entangling these two states to give the total entangled state of $\rho_{123}$. This projects $\rho_{3}$ to one of four possible pure states dependent on the result of the Bell measurement done by Alice. Using the classical communication channel, Alice can send this measurement outcome to Bob in two classical bits. In order for Bob to extract  $\rho_1$ from his part of the entangled state, $\rho_{3}$, he needs to apply to it the Bell map that corresponds to the measurement outcome of Alice's Bell measurement.


The name of this protocol might lead one to think that it includes the teleportation of information. However, this is not the case. This protocol does not achieve faster than light communication. Although the projection of $\rho_{3}$ onto a pure state happens simultaneously with Alice making the Bell measurement, in order for Bob to receive any information on $\rho_1$ from $\rho_{3}$ he must apply the Bell map that corresponds to the measurement result of Alice's Bell measurement. Alice thus has to communicate classically to Bob the result of her Bell measurement.

Quantum teleportation carries some similarity to QOTP. In both protocols, Alice and Bob communicate two classical bits of information in order to communicate one qubit. Also, in both cases, Bob applies a Bell map. These similarities might give some intuition for the equivalence of these protocols. In section \ref{Equivalences} we will see this equivalence diagrammatically.

\subsubsection{Diagrammatic Implementation}

The only component of this protocol that we have not worked out diagrammatically yet is the Bell measurement. We know that the Bell measurement is the adjoint of the Bell state. Therefore it suffices to create this Bell state and take its adjoint to make a Bell measurement.

Let's see if we can take the Bell state apart and construct its smaller constituents diagrammatically. The Bell state is actually a composition of a Hadamard (H) and a CNOT gate. The Hadamard gate is applied first to one of the qubits. It transforms $\ket{0}$ to  $(\ket{0} + \ket{1})/\sqrt{2}$ and $\ket{1}$ to $(\ket{0} - \ket{1})/\sqrt{2}$. These superposition states actually form the basis states in a different basis. Therefore, the Hadamard gate can be seen as a basis transformation. For example, a Hadamard gate applied to basis states in the z basis will transform those states to the x basis. The CNOT gate is then applied to the two qubits. In the CNOT gate, one input qubit controls whether or not the other is negated. If the former is $\ket{0}$ the latter undergoes the identity and if the former is $\ket{1}$ the latter is negated. The control qubit in the CNOT gate is in this case the output of the Hadamard gate. The result of these operations entangles the two input qubits and puts them in one of four possible Bell states. Let's test this construction on input state $\ket{00}$ to see if it indeed behaves as expected:

1. The Hadamard gate puts the first qubit in superposition: $\ket{00} \Rightarrow \frac{(\ket{0} + \ket{1})\ket{0}}{\sqrt{2}}$

2. The CNOT negates the second qubit if the first is $\ket{1}$: $\frac{(\ket{0} + \ket{1})\ket{0}}{\sqrt{2}} \Rightarrow \frac{(\ket{00} + \ket{11})}{\sqrt{2}}$

The result is thus indeed one of the Bell states, namely $B_0$.

Diagrammatically, we do not have to construct the whole Hadamard gate to put one of the qubits into the required superposition. In fact, all we have to do is encode one qubit into a different basis than the other and choose one of the two bases to read the results in. The first part of our diagrammatic version of the Bell state thus becomes:

\begin{equation}
	\label{equation:BellState(1)}
	\tikzfig{BellState(1)}
\end{equation}
\textit{Where i and j are test inputs.}

The CNOT gate itself is composed by a copy map and an XOR map. The first qubit is copied after which the second is XOR'd with the copied qubit \cite{articleCNOT}. Diagrammatically:

\begin{equation}
	\label{equation:CNOT}
	\tikzfig{CNOT}
\end{equation}

Applying test states:

\begin{equation}
	\tikzfig{CNOTWithTestInput} = \tikzfig{CNOTWithTestInput(1)} = \ket{i} \otimes \ket{i \oplus j}
\end{equation}

Which is indeed the behavior of the CNOT gate.

Composing equations \ref{equation:BellState(1)} and \ref{equation:CNOT} then gives the Bell state:

\begin{equation}
	\tikzfig{BellState}
\end{equation}

Let's again apply the state $\ket{00}$ to test the functionality of this Bell state preparation map:

\begin{equation}
\label{BellStateTestInput}
	\begin{split}
	\tikzfig{BellStateTestInput} = \tikzfig{BellStateTestInput(1)} = \tikzfig{BellStateTestInput(2)} = \frac{1}{2}(\tikzfig{BellStateTestInput(3)}) + \frac{1}{2}(\tikzfig{BellStateTestInput(4)}) \\ = \frac{1}{2}(\tikzfig{BellStateTestInput(5)}) +
	\frac{1}{2}(\tikzfig{BellStateTestInput(6)}) 
	= \frac{1}{2}(\tikzfig{BellStateTestInput(7)}) + \frac{1}{2}(\tikzfig{BellStateTestInput(8)}) \\ = \frac{1}{2}(\tikzfig{BellStateTestInput(9)}) +
	 \frac{1}{2}(\tikzfig{BellStateTestInput(10)}) = \frac{1}{2}(\tikzfig{BellStateTestInput(11)}) +
	\frac{1}{2}(\tikzfig{BellStateTestInput(12)})
	\end{split}
\end{equation}

The result is thus indeed the expected Bell state. Note that whereas usually the constants in the Bell states are $1/\sqrt{2}$ here they are $1/2$ since the final state is doubled.

Let's choose the entangled state of \ref{entanglement} for state $\rho_{23}$. We can then compose the Bell measurement that Alice applies on the left of this entangled state and the Bell map that Bob applies to the right. Alice also inputs $\rho_1$ to the Bell measurement. Finally, we need to make sure to connect the outputs of Alice's Bell measurement to Bob's Bell map. The protocol for teleportation then becomes: 
 
\begin{equation}
	\tikzfig{QuantumTeleportation}
\end{equation}
 
It is redundant to see what happens to Eve or to show that this protocol allows for communication. In section \ref{Equivalences} we will see that this protocol is equivalent to the OTP, for which we have shown these things already. 
 
\subsection{Quantum Key Distribution}

QKD is the only protocol that has been diagrammatically (somewhat) thoroughly discussed in literature \cite{kissinger2017}. Therefore, we will not go over the full security proof here. This section is meant to get the reader to understand the diagrammatic version of QKD, such that we can use it later on in the context of equivalences.

The QKD protocol BB84 was already described in the introduction. To write it out diagrammatically we need to generalize it to a protocol that is not dependent on the physical realization of the qubits. In the new protocol, we therefore say that Alice and Bob have the choice to encode their qubit in two mutually unbiased bases, which we choose to be the z and x bases. Not considering Eve, if Alice and Bob then measure in the same basis, their quantum state is sent through just fine:

\begin{equation}
	\tikzfig{QKDSameBasis} = \tikzfig{wire} ~~~~~~~~~~~~~~~~~~~ \tikzfig{QKDSameBasis2} = \tikzfig{wire}
\end{equation}

However, due to the fact that the bases are mutually unbiased we get the following situation when Alice and Bob's measurement bases do not agree:

\begin{equation}
\tikzfig{QKDDifferentBasis} = \tikzfig{QKDDifferentBasis2}
\end{equation}

Now if we limit Eve's interference to only a measurement in either the z or x bases she will have a 50\% chance of measuring in the correct basis. In the case where Alice and Bob both use the x basis Eve can do two things. Either she also measures in the x basis and receives Alice's state:

\begin{equation}
	\tikzfig{QKDSameBasisEveNoFuckUp} = \tikzfig{QKDSameBasisEveNoFuckUp2} 
\end{equation}

Or she measures in the z basis and both her and Bob receive a random bit:

\begin{equation}
	\tikzfig{QKDSameBasisEveFucksUp} = \tikzfig{QKDSameBasisEveFucksUp2}
\end{equation}

This puts heavy constraints on Eve. Realistically, she could measure in different bases, or find even different ways to extract information from Alice's qubits. Therefore, it is more general to state that Eve can apply some map $\Phi$, on which we can put constraints as needed:

\begin{equation}
	\tikzfig{EveNewMap}
\end{equation}

This is exactly how Kissinger et al. approach this problem in \cite{Kissinger2017}. To prove security for noiseless communication they go on to claim that for Eve's intervention to be undetected whenever Alice and Bob's measurement results are the same, Eve's channel must exhibit the following property:

\begin{equation}
	\label{QKDProofSetup}
	\tikzfig{QKDProofSetup1} = \tikzfig{wire} ~~~~~~~~~~~ \tikzfig{QKDProofSetup2} = \tikzfig{wire}
\end{equation}

From here on Kissinger et al. in \cite{Kissinger2017} include an extensive (fully diagrammatic) security proof which finally reaches the conclusion that for any $\Phi$ that satisfies \ref{QKDProofSetup} we have:

\begin{equation}
\tikzfig{EveNewMap} = \tikzfig{thickWIRE} ~~~ \tikzfig{SmallRho}
\end{equation}

In words: Eve's channel has no connection to Alice and Bob's and she thus learns nothing about the state Alice sent to Bob.


\subsection{Quantum Key Recycling}




\section{Equivalences}
\label{Equivalences}

The equivalence of QOTP and quantum teleportation is rather trivial. Simply putting them side by side and making a small adjustment to QOTP, drawing it a bit more suggestively, is enough to see the equivalence:

\begin{equation}
\tikzfig{QOTPNoEveNoLine} = \tikzfig{QOTPNoEveNoLine(1)}~~~~~ \Leftrightarrow ~~~~~\tikzfig{QuantumTeleportationNoLine}
\end{equation}

This is a strikingly simple equivalence. Bending the U-shaped curve in the quantum teleportation protocol such that it becomes a straight line already does the trick. In a sense, quantum teleportation could thus be seen as the EPR variant of the QOTP. 

Due to their equivalence, whatever we can prove with the one diagram we can state as fact for the other without needing to prove it. This can be very convenient in security proofs.



\bibliographystyle{plain}
\bibliography{library}

\appendix


\section{Keywords}
\label{Keywords}


~~~~\hyperref[coloursandbases]{Base: E, page 2}

\hyperref[braandket]{Bra: A, page 1}

\hyperref[coloursandbases]{Colour: E, page 2}

\hyperref[phasespiders]{Decoding: H, page 3}

\hyperref[discarding]{Density matrix: G, page 3}

\hyperref[discarding]{Discarding:G, page 3}

\hyperref[doubling]{Doubling: F, page 2}

\hyperref[braandket]{Effect: A, page 1}

\hyperref[braandket]{Hermitian Adjoint: A, page 1}

\hyperref[braandket]{Hermitian Conjugate: A, page 1}

\hyperref[identity]{Identity: B, page 1}

\hyperref[braandket]{Ket: A, page 1}

\hyperref[spiders]{Kronecker delta: D, page 2}

\hyperref[maps]{Linear map: C, page 1}

\hyperref[phasespiders]{Phase: H, page 3}

\hyperref[phasespiders]{Phase spider: H, page 3}

\hyperref[doubling]{Purity: F and G, pages 2 and 3}

\hyperref[spiders]{Spider: D, page 2}

\hyperref[braandket]{State: A, page 1}

\hyperref[identity]{System type: B, page 1}

\hyperref[doubling]{Tensor product: F, page 3}

\hyperref[discarding]{Trace: G, page 3}

\hyperref[maps]{Map: C, page 1}

\hyperref[doubling]{Mixed state: F, page 2}

\hyperref[braandket]{Transpose: A, page 1}

\hyperref[identity]{Wire: B, page 1}

\end{document}
